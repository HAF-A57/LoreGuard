# LoreGuard Environment Configuration Template
# Copy this file to .env and update the values for your environment

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# PostgreSQL Database
DATABASE_URL=postgresql://loreguard:secure_password_here@localhost:5432/loreguard
POSTGRES_PASSWORD=secure_password_here

# =============================================================================
# CACHE AND MESSAGE BROKER
# =============================================================================

# Redis Configuration
REDIS_URL=redis://:redis_password_here@localhost:6379
REDIS_PASSWORD=redis_password_here

# =============================================================================
# OBJECT STORAGE (MinIO S3-Compatible)
# =============================================================================

# MinIO Configuration
MINIO_ENDPOINT=http://localhost:9000
MINIO_ACCESS_KEY=loreguard
MINIO_SECRET_KEY=minio_password_here

# =============================================================================
# API CONFIGURATION
# =============================================================================

# FastAPI Backend
API_HOST=0.0.0.0
API_PORT=8000
CORS_ORIGINS=http://localhost:6060

# =============================================================================
# FRONTEND CONFIGURATION
# =============================================================================

# React/Vite Frontend
VITE_API_URL=http://localhost:8000
VITE_ENVIRONMENT=development

# =============================================================================
# SECURITY AND AUTHENTICATION
# =============================================================================

# JWT Configuration
JWT_SECRET_KEY=your_jwt_secret_key_here
JWT_ALGORITHM=HS256
JWT_EXPIRE_HOURS=24

# Admin User (created during initialization)
ADMIN_EMAIL=admin@airforcewargaming.com
ADMIN_PASSWORD=LoreGuard2024!

# =============================================================================
# LLM AND AI SERVICES
# =============================================================================

# OpenAI Configuration (for evaluation pipeline)
OPENAI_API_KEY=your_openai_api_key_here
OPENAI_API_BASE=https://api.openai.com/v1
OPENAI_MODEL=gpt-4
OPENAI_MAX_TOKENS=4000

# =============================================================================
# TRANSLATION SERVICES
# =============================================================================

# LibreTranslate (On-premises translation)
LIBRETRANSLATE_URL=http://localhost:5000
LIBRETRANSLATE_API_KEY=

# =============================================================================
# WORKFLOW ORCHESTRATION
# =============================================================================

# Temporal Workflow Engine
TEMPORAL_HOST=localhost:7233
TEMPORAL_NAMESPACE=default

# =============================================================================
# DOCUMENT SHARING AND DISTRIBUTION
# =============================================================================

# Nextcloud Configuration
NEXTCLOUD_DB_PASSWORD=nextcloud_password_here
NEXTCLOUD_ADMIN_USER=admin
NEXTCLOUD_ADMIN_PASSWORD=nextcloud_admin_password_here

# =============================================================================
# DEVELOPMENT AND DEBUGGING
# =============================================================================

# Environment
ENVIRONMENT=development
DEBUG=true
LOG_LEVEL=debug

# Development Ports
DEV_FRONTEND_PORT=5173
DEV_BACKEND_PORT=8000

# =============================================================================
# PROCESSING CONFIGURATION
# =============================================================================

# Document Processing
MAX_DOCUMENTS_PER_BATCH=100
DEFAULT_CONFIDENCE_THRESHOLD=0.8
CRAWL_POLITENESS_DELAY=2.0

# Supported Languages (ISO 639-1 codes)
SUPPORTED_LANGUAGES=en,zh,ru,ar,es,fr,de,ja,ko,fa,ur,hi

# =============================================================================
# MONITORING AND LOGGING
# =============================================================================

# Log Configuration
LOG_FORMAT=json
LOG_FILE_PATH=./logs/loreguard.log
LOG_ROTATION_SIZE=100MB
LOG_RETENTION_DAYS=30

# Health Check Configuration
HEALTH_CHECK_INTERVAL=30
HEALTH_CHECK_TIMEOUT=10

# =============================================================================
# PERFORMANCE TUNING
# =============================================================================

# Database Connection Pool
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=30
DB_POOL_TIMEOUT=30

# Redis Connection Pool
REDIS_POOL_SIZE=10
REDIS_POOL_TIMEOUT=5

# Worker Configuration
WORKER_CONCURRENCY=4
WORKER_TIMEOUT=300

# =============================================================================
# SECURITY SETTINGS
# =============================================================================

# CORS Configuration
CORS_ALLOW_CREDENTIALS=true
CORS_ALLOW_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_ALLOW_HEADERS=*

# Rate Limiting
RATE_LIMIT_REQUESTS=1000
RATE_LIMIT_WINDOW=3600

# Session Configuration
SESSION_TIMEOUT=3600
SESSION_SECURE=false

# =============================================================================
# BACKUP AND ARCHIVAL
# =============================================================================

# Backup Configuration
BACKUP_ENABLED=true
BACKUP_SCHEDULE="0 2 * * *"
BACKUP_RETENTION_DAYS=30
BACKUP_LOCATION=./backups

# Evidence Archival (WARC format)
EVIDENCE_RETENTION_DAYS=1095
EVIDENCE_STORAGE_PATH=./evidence-storage

# =============================================================================
# INTEGRATION SETTINGS
# =============================================================================

# MAGE Integration
MAGE_API_URL=
MAGE_API_KEY=
MAGE_SYNC_ENABLED=false

# External API Keys (for source monitoring)
NEWSAPI_KEY=
TWITTER_BEARER_TOKEN=
REDDIT_CLIENT_ID=
REDDIT_CLIENT_SECRET=

# =============================================================================
# DEVELOPMENT OVERRIDES
# =============================================================================

# Override any of the above settings for local development
# These will take precedence over the default values

# Example: Use different database for testing
# TEST_DATABASE_URL=postgresql://loreguard:test_password@localhost:5433/loreguard_test

# Example: Use mock services for development
# USE_MOCK_LLM=true
# USE_MOCK_TRANSLATION=true

# =============================================================================
# NOTES
# =============================================================================

# 1. Generate secure passwords for production:
#    openssl rand -base64 32

# 2. For production deployment:
#    - Change all default passwords
#    - Set DEBUG=false
#    - Set ENVIRONMENT=production
#    - Configure proper CORS origins
#    - Set up SSL/TLS certificates

# 3. Required external services:
#    - OpenAI API key for evaluation pipeline
#    - Optional: News API, social media APIs for broader source coverage

# 4. Storage requirements:
#    - PostgreSQL: ~10GB for 1M documents
#    - MinIO: ~100GB for document storage and evidence
#    - Redis: ~1GB for caching and job queues

